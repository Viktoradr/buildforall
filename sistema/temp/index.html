<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Administração</title>

    <link rel="shortcut icon" type="image/png" href="favicon.ico" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="Content/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="Content/node-waves/css/waves.min.css" />
    <link rel="stylesheet" href="Content/animate/animate.min.css" />
    <link rel="stylesheet" href="Content/sweetalert/css/sweetalert.css" />
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/login.css">

</head>

<body>

    <header>
        <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">

            <div class="container-fluid pr-0">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">Rstraining Admin</a>
                    <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation"></button>
                </div>

                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav d-flex flex-row"></ul>
                    <form class="w-50 my-2 my-lg-0">
                        <div class="input-group input-group-sm">
                            <input class="form-control w-50" id="loginEmail" type="email" placeholder="Email">
                            <input class="form-control w-25" id="loginSenha" type="password" placeholder="Senha">
                            <div class="input-group-append">
                                <button id="btnLogar" class="btn btn-primary" type="button">Entrar</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </nav>
    </header>

    <main class="pt-4">
        <div class="container">
            <div class="jumbotron jumbotron-fluid">
                <div class="container">
                    <h1 class="display-4">Fluid jumbotron</h1>
                    <p class="lead">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>
                </div>
            </div>


            <div class="row">
                <div class="col-4">
                    <div class="card text-white bg-primary mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a href="#" class="card-link">Card link</a>
                            <a href="#" class="card-link">Another link</a>
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <div class="card text-white bg-dark mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Dark card title</h5>
                            <h6 class="card-subtitle mb-2 text-muted">Dark Card subtitle</h6>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a href="#" class="card-link">Card link</a>
                            <a href="#" class="card-link">Another link</a>
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <div class="card bg-light mb-3">
                        <div class="card-body">
                            <h5 class="card-title">Card title</h5>
                            <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a href="#" class="card-link">Card link</a>
                            <a href="#" class="card-link">Another link</a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <footer class="page-footer font-small bg-primary text-white pt-4 mt-4">

        <div class="container-fluid text-center text-md-left">
            <div class="row">
                <div class="col-md-6 mt-3">
                    <h5 class="text-uppercase">Footer Content</h5>
                    <p>Here you can use rows and columns here to organize your footer content.</p>
                </div>

                <div class="col-md-6 mb-3">
                    <h5 class="text-uppercase">Links</h5>

                    <ul class="list-unstyled">
                        <li><a href="#!">Link 1</a></li>
                        <li><a href="#!">Link 2</a></li>
                        <li><a href="#!">Link 3</a></li>
                        <li><a href="#!">Link 4</a></li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="bg-dark text-center py-3">© 2018 Copyright:
            <a href="http://buildforall.com.br/"> Buildforall.com.br</a>
        </div>
    </footer>

    <script type="text/javascript" src="Content/jquery/jquery-3.3.1.min.js "></script>
    <script type="text/javascript" src="Content/bootstrap/js/bootstrap.min.js "></script>
    <script type="text/javascript" src="Content/node-waves/js/waves.min.js "></script>
    <script type="text/javascript" src="Content/sweetalert/js/sweetalert.min.js"></script>
    <script type="text/javascript" src="js/admin.js "></script>

    <script>
        class UsuarioViewModel {
            constructor() {}
        }

        $(function() {
            $("#btnLogar").click(function() {
                var usuario = new UsuarioViewModel();
                usuario.Email = $("#loginEmail").val();
                usuario.Senha = $("#loginSenha").val();

                if (usuario.Email != "" && usuario.Senha != "") {
                    $.ajax({
                        url: "http://localhost:56619/api/Autenticacao/Logar",
                        type: "POST",
                        data: usuario,
                        success: function(response) {
                            console.log("success", response);
                            if (response.Retorno)
                                window.location.href = "home.html";
                            else
                                sweetalert.showWithTitleMessage("Aviso", response.Mensagem);
                        },
                        error: function(retorno) {
                            console.log("error", retorno);
                            //sweetalert.showWithTitleMessage("Aviso", JSON.stringify(retorno));
                        }
                    });
                }
            });
        });
    </script>
</body>

</html>